@using Dahab.Models
@{ 
    int ID = int.Parse(User.Identity.Name);
    Admin admin = new DB().Admins.Find(ID);
}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="~/images/apple-icon.png">
    <link rel="icon" type="image/p ng" href="~/images/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>@ViewBag.Title</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!-- Fonts and icons -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <!-- CSS Files -->
    <link href="~/Content/material-dashboard.css" rel="stylesheet" />

    <link href="~/Content/lib/data-table/buttons.bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/lib/data-table/buttons.dataTables.min.css" rel="stylesheet" />
    <link href="~/Content/lib/data-table/dataTables.bootstrap.min.css" rel="stylesheet" />
    <!-- Custom CSS -->
    <link href="~/Content/custom.css" rel="stylesheet" />
    <style>
        .card-header {
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div class="wrapper ">
        <div class="sidebar" data-color="purple" data-background-color="white" data-image="assets/img/sidebar-1.jpg">
            <div class="logo">
                <a href="dashboard.html" class="simple-text logo-normal">
                    <img src="~/images/Logo.png" width="60%" />
                </a>
            </div>
            <div class="sidebar-wrapper">
                <ul id="nav" class="nav">
                    <li id="Dashboard" class="nav-item">
                        <a class="nav-link" href="~/Admins/Dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <p> التحليلات</p>
                        </a>
                    </li>
                    @if (admin.IsManager)
                    {
                        <li id="Admins" class="nav-item">
                            <a class="nav-link" href="~/Admins/Index">
                                <i class="fa fa-user"></i>
                                <p> الادمن </p>
                            </a>
                        </li>
                    }
                    @if (admin.Access_Products)
                    {
                        <li id="Products" class="nav-item">
                            <a class="nav-link" href="~/Products/Index">
                                <i class="fa fa-cart-plus"></i>
                                <p>المنتجات</p>
                            </a>
                        </li>
                    }
                   @if (admin.Access_Orders)
                   {
                    <li id="Orders" class="nav-item">
                        <a class="nav-link" href="~/Orders/Index">
                            <i class="fa fa-bullhorn"></i>
                            <p>الطلبات </p>
                        </a>
                    </li>
                   }
                   @if (admin.Access_Categories)
                   {
                    <li id="Categories" class="nav-item">
                        <a class="nav-link" href="~/Categories/Index">
                            <i class="fa fa-calendar"></i>
                            <p>الانواع</p>
                        </a>
                    </li>
                   }
                   
                    @if (admin.Access_Users)
                    {
                        <li id="Users" class="nav-item">
                            <a class="nav-link" href="~/Users/Index">
                                <i class="fa fa-users"></i>
                                <p>العملاء</p>
                            </a>
                        </li>
                    }
                    
                    <li id="Contacts" class="nav-item">
                        <a class="nav-link" href="~/Contacts/Index">
                            <i class="fa fa-link"></i>
                            <p> التواصل </p>
                        </a>
                    </li>
                    <li id="Subscribers" class="nav-item">
                        <a class="nav-link" href="~/Subscribers/Index">
                            <i class="fa fa-wifi"></i>
                            <p> المشتركين </p>
                        </a>
                    </li>
                    @if (admin.Access_Codes)
                    {
                        <li id="Codes" class="nav-item">
                            <a class="nav-link" href="~/Codes/Index">
                                <i class="fa fa-barcode "></i>
                                <p> الاكواد </p>
                            </a>
                        </li>
                    }
                    
                </ul>
            </div>
            <div class="sidebar-background" style="background-image: url(../../images/sidebar-1.jpg)"></div>
        </div>
        <div class="main-panel">
            <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navigation-example">
                <div class="container-fluid">
                    <div class="collapse navbar-collapse justify-content-end">
                        <ul class="navbar-nav">
                            <li class="nav-item dropdown">
                                <a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                   <h4> @admin.UserName <i class="fa fa-user"></i> </h4>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                                    <a class="dropdown-item" href="~/Admins/Dashboard"> <i class="fa fa-tachometer-alt" style="margin-left:6px;"></i> التحليلات</a>
                                    <a class="dropdown-item" href="~/Auth/Signout"> <i class="fa fa-power-off" style="margin-left:6px;"></i>  تسجيل الخروج  </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <style>
                .main-panel > .content {
                    padding: 80px 15px !important;
                }

                .navbar .navbar-nav .dropdown-menu-right {
                    -webkit-transform-origin: 100% 0 0 100% !important;
                    transform-origin: 100% 0 0 100% !important;
                }
            </style>
            </div>
            @RenderBody()
        </div>

    <!--   Core JS Files   -->
    <script src="~/Scripts/js/jquery.min.js" type="text/javascript"></script>
    <script src="~/Scripts/js/popper.min.js" type="text/javascript"></script>
    <script src="~/Scripts/js/bootstrap-material-design.min.js" type="text/javascript"></script>
    <script src="~/Scripts/js/perfect-scrollbar.jquery.min.js"></script>
    <!-- Chartist JS -->
    <script src="~/Scripts/js/chartist.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="~/Scripts/js/bootstrap-notify.js"></script>
    <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="~/Scripts/js/material-dashboard.min.js?v=2.1.0" type="text/javascript"></script>
    <!-- Material Dashboard DEMO methods, don't include it in your project! -->
    <script src="~/Scripts/js/custom.js"></script>

    <!--Alert -->
    <script src="~/Scripts/js/bootbox.min.js"></script>

    


    <script src="~/Scripts/js/lib/datatables/datatables.min.js"></script>
    <script src="~/Scripts/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
    <script src="~/Scripts/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js"></script>
    <script src="~/Scripts/js/lib/datatables/cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
    <script src="~/Scripts/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
    <script src="~/Scripts/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
    <script src="~/Scripts/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>
    <script src="~/Scripts/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js"></script>
    <script src="~/Scripts/js/lib/datatables/datatables-init.js"></script>


    <script>
        $(document).ready(function () {
            // Javascript method's body can be found in assets/js/demos.js
            md.initDashboardPageCharts();

        });
    </script>
    <script>
        $(document).ready(function () {

            //jQuery
          var UrlPath=  $(location).attr('href');
          if (UrlPath.includes("Dashboard") || UrlPath.includes("dashboard"))
          {
              $("#nav #Dashboard").addClass("active");
          } else if (UrlPath.includes("Admins") || UrlPath.includes("admins")) {
              $("#nav #Admins").addClass("active");
          } else if (UrlPath.includes("Products") || UrlPath.includes("products")) {
              $("#nav #Products").addClass("active");
          } else if (UrlPath.includes("Orders") || UrlPath.includes("orders")) {
              $("#nav #Orders").addClass("active");
          } else if (UrlPath.includes("Categories") || UrlPath.includes("categories")) {
              $("#nav #Categories").addClass("active");
          } else if (UrlPath.includes("Users") || UrlPath.includes("users")) {
              $("#nav #Users").addClass("active");
          } else if (UrlPath.includes("Subscribers") || UrlPath.includes("Subscribers")) {
              $("#nav #Subscribers").addClass("active");
          } else if (UrlPath.includes("Contacts") || UrlPath.includes("contacts")) {
              $("#nav #Contacts").addClass("active");
          } else if (UrlPath.includes("Codes") || UrlPath.includes("codes")) {
              $("#nav #Codes").addClass("active");
          }
        });
    </script>
</body>
</html>
